Version 4
SHEET 1 1496 680
WIRE 592 -240 512 -240
WIRE 800 -240 672 -240
WIRE 672 -128 640 -128
WIRE 800 -128 800 -240
WIRE 800 -128 736 -128
WIRE 720 -16 720 -32
WIRE 112 0 32 0
WIRE 224 0 112 0
WIRE 304 0 224 0
WIRE 384 0 304 0
WIRE 512 0 512 -240
WIRE 512 0 384 0
WIRE 544 0 512 0
WIRE 640 0 640 -128
WIRE 640 0 624 0
WIRE 688 0 640 0
WIRE 800 16 800 -128
WIRE 800 16 752 16
WIRE 832 16 800 16
WIRE 944 16 912 16
WIRE 1008 16 944 16
WIRE 1280 16 1280 -16
WIRE 688 32 624 32
WIRE 944 32 944 16
WIRE 32 48 32 0
WIRE 224 48 224 0
WIRE 384 48 384 0
WIRE 112 64 112 0
WIRE 304 64 304 0
WIRE 720 64 720 48
WIRE 624 80 624 32
WIRE 944 128 944 96
WIRE 1280 128 1280 96
WIRE 32 192 32 128
WIRE 112 192 112 128
WIRE 112 192 32 192
WIRE 224 192 224 128
WIRE 224 192 112 192
WIRE 304 192 304 128
WIRE 304 192 224 192
WIRE 384 192 384 128
WIRE 384 192 304 192
WIRE 416 192 384 192
WIRE 624 192 624 160
WIRE 624 192 496 192
WIRE 656 192 624 192
WIRE 624 224 624 192
FLAG 720 64 0
FLAG 720 -32 VCC
FLAG 944 128 0
FLAG 1280 128 0
FLAG 1280 -16 VCC
FLAG 624 224 0
FLAG 1008 16 OUT
IOPIN 1008 16 Out
SYMBOL diode 96 128 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL current 224 48 M0
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I2
SYMATTR Value {I_D}
SYMBOL cap 288 128 M180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value {Cj}
SYMBOL res 368 144 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value {Rsh}
SYMBOL res 512 208 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value {Rs}
SYMBOL Opamps\\LTC2054 720 16 R0
SYMATTR InstName U1
SYMBOL res 640 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {mc(R1,tol_R)}
SYMBOL cap 736 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {mc(C1,tol_c)}
SYMBOL res 688 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {mc(R2,tol_r)}
SYMBOL res 928 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {mc(R3,tol_r)}
SYMBOL cap 928 32 R0
SYMATTR InstName C3
SYMATTR Value {mc(C2,tol_r)}
SYMBOL voltage 1280 0 R0
SYMATTR InstName V1
SYMATTR Value {mc(3.3,tol_vcc)}
SYMBOL voltage 624 64 R0
SYMATTR InstName V2
SYMATTR Value {flat(3e-6)}
SYMBOL current 32 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 1.59e-6
TEXT -48 -152 Left 2 !.param I_D = 0.001e-9\n.param Cj = 10\n.param Rsh = 2e9\n.param Rs = 1e-6
TEXT -50 242 Left 2 !.tran 1
TEXT 984 -328 Left 2 !.param tol_r = 0.001\n.param tol_c = 0.2\n.param tol_vcc = 0.05\n.param R1 = 1k\n.param R2 = 1MEG\n.param R3 = 2k\n.param C1 = 0.15e-6\n.param C2 = 0.01e-6
